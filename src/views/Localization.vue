<script setup>
import { onMounted, ref } from 'vue';
import L from 'leaflet';
import 'leaflet/dist/leaflet.css';
// Importez votre image de marqueur personnalisée
import customMarkerImg from '/public/Iphone.png';

const mapContainer = ref(null);

onMounted(() => {
  const map = L.map(mapContainer.value).setView([48.2973451, 4.0744009], 13);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
  }).addTo(map);

  // Création de l'objet Icon personnalisé
  const customIcon = L.icon({
    iconUrl: customMarkerImg,
    iconSize: [45],
    iconAnchor: [22, 94],
    popupAnchor: [-3, -76] // L'endroit où la popup se relie à l'icône
  });

  L.marker([48.2973451, 4.0744009], { icon: customIcon }).addTo(map)
      .bindPopup('Votre Iphone')
      .openPopup();
});
</script>

<template>
<div class="w-full h-full bg-blue-500 relative">
  <div class="absolute z-20 right-5 bg-white top-5 rounded-[5px]">
    <div class="px-1.5 py-2 border-b-[#c0c2c3] border-b">
      <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7.53027 14.8154L11.7227 17.1533C11.9336 17.2676 12.1094 17.3555 12.3291 17.4082V2.80957L8.25098 0.348633C7.9873 0.19043 7.74121 0.0761719 7.53027 0.0234375V14.8154ZM0.736328 15.9932C0.736328 16.7578 1.21973 17.1797 1.92285 17.1797C2.17773 17.1797 2.44141 17.1006 2.74023 16.9424L6.23828 15.0439V0.120117C6.04492 0.199219 5.81641 0.295898 5.5791 0.436523L1.60645 2.69531C1.00879 3.0293 0.736328 3.50391 0.736328 4.17188V15.9932ZM13.6123 17.3643C13.7178 17.3379 13.8232 17.2939 13.9199 17.2236L18.3672 14.71C18.9824 14.3672 19.2637 13.9014 19.2637 13.2334V1.47363C19.2637 0.673828 18.7715 0.27832 18.0244 0.27832C17.752 0.27832 17.4619 0.357422 17.1543 0.524414L13.6123 2.49316V17.3643Z" fill="#1C1C1E"/>
      </svg>
    </div>
    <div class="px-1.5 py-2">
      <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.3359 19.4805C12.0215 19.4805 12.4961 18.9268 12.8213 18.083L18.6221 2.91309C18.7715 2.51758 18.8594 2.1748 18.8594 1.87598C18.8594 1.25195 18.4639 0.856445 17.8311 0.856445C17.541 0.856445 17.1895 0.935547 16.8027 1.08496L1.5625 6.9209C0.806641 7.21094 0.235352 7.68555 0.235352 8.37109C0.235352 9.21484 0.859375 9.53125 1.7207 9.78613L8.06641 11.6494L9.91211 17.9248C10.1758 18.8213 10.4922 19.4805 11.3359 19.4805ZM8.57617 10.0322L3.11816 8.3623C2.98633 8.32715 2.95117 8.2832 2.95117 8.23047C2.95117 8.16895 2.98633 8.11621 3.10059 8.08105L13.5332 4.09082C14.2803 3.80078 15.0098 3.44922 15.8096 3.08008C15.1768 3.58984 14.4033 4.21387 13.876 4.74121L8.57617 10.0322ZM11.4941 16.7734C11.4326 16.7734 11.3887 16.7207 11.3535 16.5977L9.68359 11.1396L14.9746 5.83984C15.4844 5.32129 16.1348 4.52148 16.6445 3.87988C16.2754 4.68848 15.915 5.42676 15.625 6.18262L11.6348 16.6152C11.5908 16.7295 11.5557 16.7734 11.4941 16.7734Z" fill="#1C1C1E"/>
      </svg>

    </div>
  </div>

  <div class="w-full h-[calc(100%-275px)] absolute z-0" ref="mapContainer"></div>

  <div class="absolute w-full bg-white h-[220px] bottom-[60px] rounded-tl-[10px] rounded-tr-[10px] z-10">
    <div class="flex justify-between items-center p-2.5">
    <h1 class="font-Poppins font-bold text-lg m-0">Appareils</h1>
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M1.63672 8.65625H6.99805V14.0176C6.99805 14.5625 7.44629 15.0195 8 15.0195C8.55371 15.0195 9.00195 14.5625 9.00195 14.0176V8.65625H14.3633C14.9082 8.65625 15.3652 8.20801 15.3652 7.6543C15.3652 7.10059 14.9082 6.65234 14.3633 6.65234H9.00195V1.29102C9.00195 0.746094 8.55371 0.289062 8 0.289062C7.44629 0.289062 6.99805 0.746094 6.99805 1.29102V6.65234H1.63672C1.0918 6.65234 0.634766 7.10059 0.634766 7.6543C0.634766 8.20801 1.0918 8.65625 1.63672 8.65625Z" fill="#287cff"/>
    </svg>
    </div>

    <hr class="border-[#d8d8d842] my-2">

    <div class="p-2">

      <div class="flex justify-between px-1 items-center">
      <img class="w-8 h-8" src="/RoundedPhone.png" alt="">
      <div class="flex flex-col">
      <h2 class="m-0 font-Poppins text-[14px]">Iphone de Thomas</h2>
      <p class="m-0 font-Poppins text-[12px] text-[#717171]">Cet iPhone</p>
      </div>

      <p class="m-0 font-Poppins text-[12px] text-[#717171]">Avec vous</p>
      </div>
      
    </div>
  </div>
  <div class="absolute w-full bg-white border-t-1 border-[#c0c2c3] h-[60px] bottom-0 flex justify-around items-end pb-[10px]">
    <div class="flex flex-col items-center justify-center">
        <svg width="28" height="28" viewBox="0 0 28 28" fill="#717171" xmlns="http://www.w3.org/2000/svg">
          <path fill="#717171" d="M13.165 24.3067C13.7451 24.3067 14.167 23.9376 14.167 23.2432V16.502C14.167 16.2032 14.3076 16.0274 14.5449 16.0274C14.7822 16.0274 14.9316 16.2032 14.9316 16.502V23.2432C14.9316 23.9376 15.3535 24.3067 15.9336 24.3067C16.5049 24.3067 16.9268 23.9376 16.9268 23.2432V11.8526C16.9268 11.6153 17.041 11.4747 17.2344 11.4747C17.4189 11.4747 17.542 11.6153 17.542 11.8526V16.5284C17.542 17.1524 17.9111 17.504 18.4385 17.504C18.9658 17.504 19.3262 17.1524 19.3262 16.5284V11.9581C19.3262 9.17195 17.7529 8.45125 14.6328 8.45125H13.2793C12.6729 8.45125 12.3652 8.36336 11.8818 8.0118L10.7217 7.19441L10.5107 3.9073C10.4668 3.27449 10.0625 2.94051 9.53516 2.97566C8.99902 3.00203 8.62988 3.38875 8.66504 4.01277L8.87598 7.27351C8.91992 7.98543 9.20117 8.39851 9.64063 8.72371L11.75 10.2618C12.0576 10.4815 12.1631 10.754 12.1631 11.1055V23.2432C12.1631 23.9376 12.5938 24.3067 13.165 24.3067ZM14.6328 7.57234C15.8018 7.57234 16.7422 6.60555 16.7422 5.47176C16.7422 4.30281 15.8018 3.35359 14.6328 3.35359C13.4551 3.35359 12.5322 4.30281 12.5322 5.47176C12.5322 6.62312 13.4551 7.57234 14.6328 7.57234Z"/>
        </svg>
        <p class="font-Noto text-[12px] text-[#717171] m-1">Personnes</p>
      </div>
    <div class="flex flex-col items-center justify-center">
    <svg width="26" height="16" viewBox="0 0 26 16" fill="#717171" xmlns="http://www.w3.org/2000/svg">
      <path fill="#287cff" d="M1.47754 15.0283H23.6084C24.8301 15.0283 25.6387 14.2461 25.6387 13.042V4.48145C25.6387 3.27734 24.8301 2.49512 23.6084 2.49512H23.3008V2.40723C23.3008 1.02734 22.5449 0.297852 21.1738 0.297852H5.45898C4.14062 0.297852 3.33203 1.02734 3.33203 2.40723V12.7695H1.47754C0.862305 12.7695 0.352539 13.2793 0.352539 13.9033C0.352539 14.5186 0.862305 15.0283 1.47754 15.0283ZM17.5352 4.48145V12.7695H5.08105V2.87305C5.08105 2.31055 5.35352 2.04688 5.90723 2.04688H20.7256C21.1299 2.04688 21.3848 2.19629 21.4902 2.49512H19.6006C18.3613 2.49512 17.5352 3.27734 17.5352 4.48145ZM18.9326 4.69238C18.9326 4.19141 19.249 3.89258 19.7764 3.89258H19.8994V4.24414C19.8994 4.55176 20.1016 4.75391 20.4004 4.75391H22.7822C23.0898 4.75391 23.2832 4.55176 23.2832 4.24414V3.89258H23.3975C23.9248 3.89258 24.2412 4.2002 24.2412 4.70117V12.8311C24.2412 13.332 23.9248 13.6309 23.3975 13.6309H19.7764C19.249 13.6309 18.9326 13.332 18.9326 12.8311V4.69238ZM20.251 13.0508H22.9316C23.1338 13.0508 23.2832 12.9102 23.2832 12.708C23.2832 12.4971 23.1338 12.3564 22.9316 12.3564H20.251C20.0488 12.3564 19.8994 12.4971 19.8994 12.708C19.8994 12.9102 20.0488 13.0508 20.251 13.0508Z"/>
    </svg>
      <p class="font-Noto text-[12px] text-[#287cff] m-1">Appareils</p>
    </div>

    <div class="flex flex-col items-center justify-center">
    <svg width="21" height="19" viewBox="0 0 21 19"  xmlns="http://www.w3.org/2000/svg">
      <path fill="#717171" d="M10.9912 0.575195C6.02539 0.575195 1.9209 4.68848 1.9209 9.6543C1.9209 9.83008 1.92969 9.99707 1.93848 10.1641C2.33398 10.041 2.75586 9.9707 3.18652 9.9707C5.26074 9.9707 7.00977 11.4736 7.3877 13.4424C8.38965 12.9062 9.6377 12.6162 11 12.6162C13.3467 12.6162 15.377 13.4688 16.3877 14.998C15.0518 16.4307 12.9688 17.248 11 17.248C9.62012 17.248 8.20508 16.8438 7.02734 16.1143C6.80762 16.5713 6.51758 16.9756 6.15723 17.3096C7.56348 18.2148 9.22461 18.7334 11 18.7334C15.9658 18.7334 20.0791 14.6289 20.0791 9.6543C20.0791 4.68848 15.9658 0.575195 10.9912 0.575195ZM11 11.0957C9.27734 11.0869 7.94141 9.64551 7.94141 7.74707C7.93262 5.9541 9.29492 4.45996 11 4.45996C12.7051 4.45996 14.0586 5.9541 14.0586 7.74707C14.0586 9.64551 12.7227 11.1133 11 11.0957ZM3.18652 17.292C4.84766 17.292 6.22754 15.9209 6.22754 14.251C6.22754 12.5898 4.84766 11.2188 3.18652 11.2188C1.52539 11.2188 0.154297 12.5898 0.154297 14.251C0.154297 15.9209 1.52539 17.292 3.18652 17.292Z"/>
    </svg>
      <p class="font-Noto text-[12px] text-[#717171] m-1">Moi</p>
    </div>
  </div>
</div>
</template>

<style scoped lang="postcss">

</style>